<!doctype html>
<html>
<head>
<title>Upload new File</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
<h1>Upload new File</h1>
<form>
  <input type=file name=file id="file-input"><br>
  <input type="text" name=desc id="desc-input">
  <input type=submit id="sbmt" value=Upload>
</form>

<!-- <button id="submit">Submit</button> -->


<script>

$("form").submit(function(e){
    e.preventDefault();
    console.log("I have been clicked..")

    var formData = new FormData();
    file = $("#file-input").prop('files')[0]

    formData.append('file', file)
    formData.append('desc', $("#desc-input").val())

    fetch("http://127.0.0.1:5000/upload-file/1001",{
        method: "POST",
        body: formData
    })
    .then( data => {
        console.log(data)
    })
    .catch( err => {
        console.error(err)
    })
})
</script>

</body>
</html>